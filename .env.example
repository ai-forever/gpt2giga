# ==============================================================================
# gpt2giga — пример конфигурации
# ==============================================================================
# Скопируйте этот файл в .env и укажите реальные значения.
#
#   cp .env.example .env
#
# Docker Compose:
# - сервисы в `docker-compose.yaml` включаются через профили `DEV`/`PROD`
# - запуск: `docker compose --profile PROD up -d` (или `--profile DEV`)
#
# ВАЖНО: Для production-среды обязательно:
#   - установите GPT2GIGA_MODE=PROD
#   - включите GPT2GIGA_ENABLE_API_KEY_AUTH=True и задайте надёжный API ключ
#   - установите GIGACHAT_VERIFY_SSL_CERTS=True
#   - ограничьте CORS origins вместо wildcard ["*"]
#
# ==============================================================================
# Чеклист по безопасной эксплуатации (production)
# ==============================================================================
# 1. GPT2GIGA_MODE=PROD                 — отключает /docs, /logs*, подробный вывод
# 2. GPT2GIGA_ENABLE_API_KEY_AUTH=True  — включает API-key на всех эндпоинтах
# 3. GPT2GIGA_API_KEY=<сильный секрет>  — минимум 32 случайных символа
# 4. GIGACHAT_VERIFY_SSL_CERTS=True     — проверяет TLS сертификаты до API GigaChat
# 5. GPT2GIGA_CORS_ALLOW_ORIGINS=["https://your-app.example.com"]
# 6. GPT2GIGA_LOG_REDACT_SENSITIVE=True (по умолчанию) — маскирует секреты в логах
# 7. GPT2GIGA_LOG_LEVEL=INFO            — избегайте DEBUG в production
# 8. GPT2GIGA_MAX_REQUEST_BODY_BYTES=10485760 — ограничение тела запроса (10 МБ)
# 9. Запускайте за reverse proxy (nginx/Caddy) с TLS termination
# ==============================================================================

# --- Настройки прокси ---------------------------------------------------------
GPT2GIGA_MODE=PROD
GPT2GIGA_HOST=0.0.0.0
GPT2GIGA_PORT=8090
GPT2GIGA_USE_HTTPS=False
GPT2GIGA_LOG_LEVEL=INFO
GPT2GIGA_ENABLE_API_KEY_AUTH=True
GPT2GIGA_API_KEY="<REPLACE_WITH_STRONG_SECRET>"

# Включить reasoning по умолчанию (добавляет reasoning_effort="high" в запросы к GigaChat,
# если клиент не указал reasoning_effort явно).
# GPT2GIGA_ENABLE_REASONING=False

# Глобальный лимит размера HTTP-тела запроса (в байтах, по умолчанию 10 МБ).
# GPT2GIGA_MAX_REQUEST_BODY_BYTES=10485760

# CORS списки в формате JSON-массивов:
# В production ограничьте origins конкретными доменами.
# GPT2GIGA_CORS_ALLOW_ORIGINS=["https://your-app.example.com"]
# GPT2GIGA_CORS_ALLOW_METHODS=["GET","POST","OPTIONS"]
# GPT2GIGA_CORS_ALLOW_HEADERS=["authorization","content-type","x-api-key"]

# IP allowlist для /logs* (пусто = без ограничений, недоступно в PROD)
# GPT2GIGA_LOGS_IP_ALLOWLIST=["10.0.0.1"]

# --- Настройки GigaChat -------------------------------------------------------
GIGACHAT_SCOPE=GIGACHAT_API_PERS
GIGACHAT_CREDENTIALS="<REPLACE_WITH_YOUR_GIGACHAT_CREDENTIALS>"
GIGACHAT_PROFANITY_CHECK=False
GIGACHAT_MODEL=GigaChat-2-Max
GIGACHAT_VERIFY_SSL_CERTS=False
GIGACHAT_TIMEOUT=70000


# --- Настройки mitmproxy -------------------------------------------------------
#HTTPS_PROXY="http://mitmproxy:8080"
#HTTP_PROXY="http://mitmproxy:8080"
#MITMPROXY_PASSWORD=12345
